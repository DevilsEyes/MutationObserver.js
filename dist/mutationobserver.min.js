// MutationObserver-Shim v0.2.5 (http://github.com/megawac/MutationObserver.js)
// Authors: Graeme Yeates (yeatesgraeme@gmail.com) 
window.MutationObserver=function(x,n){function G(b,a){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=a(b[d],d,b);return c}function A(b,a){for(var c={},d=0,e=b.length;d<e;d++)c=a(c,b[d],d,b);return c}function B(b,a,c,d){for(;c<b.length;c++)if((d?b[c][d]:b[c])===a)return c;return-1}var g=x.MutationObserver||x.WebKitMutationObserver;if(!g){var p=function(b){var a={type:null,target:null,addedNodes:[],removedNodes:[],attributeName:null,attributeNamespace:null,oldValue:null},c;for(c in b)a[c]!==n&&(a[c]=b[c]);
return a},D=function(b,a){var c=!0;return function e(b){var q=3===b.nodeType,h={k:b};a.a&&!q&&(c||a.d)&&(h.a=A(b.attributes,function(b,c){if(!a.e||a.e[c.name])b[c.name]=c.value;return b}));a.b&&q&&(h.b=b.nodeValue);if((a.c||a.b)&&(c||a.d)||a.a&&a.d)c=!1,h.c=G(b.childNodes,e);return h}(b)},z=function(b,a,c,d){for(var e={},t=a.attributes,q,h,C=t.length;C--;)q=t[C],h=q.name,d&&d[h]===n||(q.value!==c[h]&&b.push(p({type:"attributes",target:a,attributeName:h,oldValue:c[h],attributeNamespace:q.namespaceURI})),
e[h]=!0);for(h in c)e[h]||b.push(p({target:a,type:"attributes",attributeName:h,oldValue:c[h]}))},E=1,F=function(b){try{return b.id||(b.mo_id=b.mo_id||E++)}catch(a){try{return b.nodeValue}catch(c){return E++}}},H=function(b,a,c,d){function e(a,c,e,g){for(var n=a.length-1,y=-~(n/2),k,l,f;f=a.pop();)k=e[f.h],l=g[f.i],d.c&&y&&Math.abs(f.h-f.i)>=n&&(b.push(p({type:"childList",target:c,addedNodes:[k],removedNodes:[k]})),y--),d.a&&l.a&&z(b,k,l.a,d.e),d.b&&3===k.nodeType&&k.nodeValue!==l.b&&b.push(p({type:"characterData",
target:k,oldValue:l.b})),d.d&&t(k,l)}function t(a,c){for(var g=a.childNodes,w=c.c,x=g.length,y=w.length,k,l,f,u,m,r,s=0,v=0;s<x||v<y;)m=g[s],r=(f=w[v])&&f.k,m===r?(d.a&&f.a&&z(b,m,f.a,d.e),d.b&&3===m.nodeType&&m.nodeValue!==f.b&&b.push(p({type:"characterData",target:m,oldValue:f.b})),l&&e(l,a,g,w),d.d&&(m.firstChild||f.c.length)&&t(m,f),s++,v++):(k||(k={},l=[]),m&&(u=f=F(m),k[u]===n&&(-1===(u=B(w,m,v,"node"))?d.c&&b.push(p({type:"childList",target:a,addedNodes:[m]})):(k[f]=!0,l.push({h:s,i:u}))),
s++),r&&r!==g[s]&&(m=f=F(r),k[m]===n&&(-1===(u=B(g,r,s))?d.c&&b.push(p({type:"childList",target:c.k,removedNodes:[r]})):(k[f]=!0,l.push({h:u,i:v}))),v++));l&&e(l,a,g,w)}t(a,c)},I=function(b,a){var c=D(b,a);return function(d){var e=d.length;a.a&&c.a&&z(d,b,c.a,a.e);(a.c||a.d)&&H(d,b,c,a);d.length!==e&&(c=D(b,a))}},g=function(b){var a=this;a.g=[];a.j=function(){var c=a.takeRecords();c.length&&b.call(a,c,a);a.f=setTimeout(a.j,g._period)}};g._period=30;g.prototype.observe=function(b,a){for(var c={a:!!(a.attributes||
a.attributeFilter||a.attributeOldValue),c:!!a.childList,d:!!a.subtree,b:!(!a.characterData&&!a.characterDataOldValue)},d=this.g,e=0;e<d.length;e++)if(d[e].m===b){d.splice(e,1);break}a.attributeFilter&&(c.e=A(a.attributeFilter,function(a,b){a[b]=!0;return a}));d.push({m:b,l:I(b,c)});this.f||this.j()};g.prototype.takeRecords=function(){for(var b=[],a=this.g,c=0;c<a.length;c++)a[c].l(b);return b};g.prototype.disconnect=function(){this.g.length=0;clearTimeout(this.f);this.f=null}}return g}(window);
