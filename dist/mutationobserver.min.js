/**
 * MutationObserver-Shim v0.1.1 (http://github.com/megawac/MutationObserver.js)
 * Authors: Graeme Yeates (yeatesgraeme@gmail.com) 
 */
window.MutationObserver=function(s,z){var e=s.MutationObserver||s.WebKitMutationObserver;if(!e){var E=Array.prototype.indexOf,F=Array.prototype.map,x=function(c){var a={type:null,target:null,addedNodes:[],removedNodes:[],attributeName:null,attributeNamespace:null,oldValue:null},b;for(b in c)a[b]!==z&&(a[b]=c[b]);return a},G=function(c,a){for(var b={},d=c.attributes,m,g=0,t=d.length;g<t;g++)if(m=d[g],!a||a[m.name])b[m.name]=m.value;return b},A=function(c,a,b,d){for(var m={},g=a.attributes,t,n,q=0,
r=g.length;q<r;q++)if(t=g[q],n=t.name,!d||d[n])t.value!==b[n]&&c.push(x({type:"attributes",target:a,attributeName:n,oldValue:b[n],attributeNamespace:t.namespaceURI})),m[n]=!0;for(n in b)m[n]||c.push(x({target:a,type:"attributes",attributeName:n,oldValue:b[n]}))},B=1,C=function(c){try{return c.id||(c.mo_id=c.mo_id||B++)}catch(a){try{return c.nodeValue}catch(b){return B++}}},H=function(c,a,b,d){function m(a,b){var q=a.childNodes,r=b.c,e=q.length,y=r.length;if(y||e){for(var f,h,l,p,k,u,v=0,w=0;v<e||
w<y;)if(k=q[v],u=(l=r[w])&&l.j,k===u)d.a&&l.a&&A(c,k,l.a,d.e),d.b&&3===k.nodeType&&k.nodeValue!==l.b&&c.push({type:"characterData",target:k,oldValue:l.b}),h&&g(h,a,q,r),d.d&&m(k,l),v++,w++;else{f||(f={},h=[]);if(k){l=C(k);if(f[l]===z){a:{for(p=w;p<r.length;p++)if(r[p].j===k)break a;p=-1}-1===p?d.c&&c.push(x({type:"childList",target:a,addedNodes:[k]})):(f[l]=!0,h.push({h:v,i:p}))}v++}if(u){k=l=C(u);if(f[k]===z)if(-1===(p=E.call(q,u,v)))d.c&&c.push(x({type:"childList",target:b.j,removedNodes:[u]}));
else if(0===p)continue;else f[l]=!0,h.push({h:p,i:w});w++}}h&&g(h,a,q,r)}}function g(a,b,g,e){var s=a.length-1,y=-~(s/2),f,h;a.forEach(function(a){f=g[a.h];h=e[a.i];d.c&&y&&Math.abs(a.h-a.i)>=s&&(c.push(x({type:"childList",target:b,addedNodes:[f],removedNodes:[f]})),y--);d.a&&h.a&&A(c,f,h.a,d.e);d.b&&3===f.nodeType&&f.nodeValue!==h.b&&c.push({type:"characterData",target:f,oldValue:h.b});d.d&&m(f,h)});a.length=0}m(a,b)},D=function(c,a){function b(d,c){var g=3===d.nodeType,e={j:d};a.a&&!g&&(c||a.d)&&
(e.a=G(d,a.e));a.b&&g&&(e.b=d.nodeValue);if((a.c||a.b)&&(c||a.d)||a.a&&a.d)e.c=F.call(d.childNodes,function(a){return b(a)});return e}return b(c,!0)},I=function(c,a){var b=D(c,a);return function(d){var e=d.length;a.a&&b.a&&A(d,c,b.a,a.e);(a.c||a.d)&&H(d,c,b,a);d.length!==e&&(b=D(c,a))}},e=function(c){var a=this;a.g=[];a.k=function(){var b=a.takeRecords();b.length&&c.call(a,b,a);a.f=s.setTimeout(a.k,e._period)}};e._period=30;e.prototype.observe=function(c,a){for(var b=this.g,d=0;d<b.length;d++)if(b[d].m===
c){b.splice(d,1);break}d={a:!!(a.attributes||a.attributeFilter||a.attributeOldValue),c:!!a.childList,d:!!a.subtree,b:!(!a.characterData&&!a.characterDataOldValue)};a.attributeFilter&&(d.e=a.attributeFilter.reduce(function(a,b){a[b]=!0;return a},{}));b.push({m:c,l:I(c,d)});this.f||this.k()};e.prototype.takeRecords=function(){for(var c=[],a=this.g,b=0,d=a.length;b<d;b++)a[b].l(c);return c};e.prototype.disconnect=function(){this.g.length=0;s.clearTimeout(this.f);this.f=null}}return e}(window);
